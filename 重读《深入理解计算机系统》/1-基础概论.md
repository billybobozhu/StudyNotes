# 基础概论
最近一直在等着上班，于是决定重新再过一遍《深入理解计算机系统》，并且记录下工作相关的知识和一些收获。

## 1. 计算机构成

冯.诺依曼结构的核心设计思想
核心设计思想主要体现在如下三个方面：

- 程序、数据的最终形态都是二进制编码，程序和数据都是以二进制方式存储在存储器中的，二进制编码也是计算机能够所识别和执行的编码。（可执行二进制文件：.bin文件）

- 程序、数据和指令序列，都是事先存在主（内）存储器中，以便于计算机在工作时能够高速地从存储器中提取指令并加以分析和执行。

- 确定了计算机的五个基本组成部分：运算器、控制器、存储器、输入设备、输出设备


信息就是位(bit) + 上下文(context)。 八个bit被归为一组byte.

## 2. 编译过程

源程序 - 预处理器 - 编译器 - 汇编器 - 链接器
hello.c hello.i hello.s hello.o
冯.诺依曼结构的核心设计思想
核心设计思想主要体现在如下三个方面：

程序、数据的最终形态都是二进制编码，程序和数据都是以二进制方式存储在存储器中的，二进制编码也是计算机能够所识别和执行的编码。（可执行二进制文件：.bin文件）
程序、数据和指令序列，都是事先存在主（内）存储器中，以便于计算机在工作时能够高速地从存储器中提取指令并加以分析和执行。
确定了计算机的五个基本组成部分：运算器、控制器、存储器、输入设备、输出设备## 3. 系统硬件组成 & 操作系统

总线 I/O设备 主存 CPU 

- 高速缓存可以极大的提高性能 (L1 L2 L3 Cache in modern CPU)

硬件由操作系统OS进行管理 

操作系统基本功能有
- 防止硬件被失控的程序滥用
- 向应用程序提供简单一致的机制来控制复杂且通常大小不同的低级硬件设备

操作系统通过进程 虚拟内存 文件 这些抽象概念来实现这两个功能

抽象概念 抽象来源

- 文件 - I/O

- 虚拟内存 - 主存+存储

- 进程 - 处理器 主存I/O 

进程是操作系统对一个正在运行的程序的一种抽象
- 并发运行 上下文切换 (context switching)

一个进程可以由多个线程组成

虚拟内存是一个抽象概念 为每个进程提供一个独占主存的假象，每个进程看到的内存都是一致的 --> 虚拟地址空间 virtual memory space.

进程的虚拟地址空间从下到上 （地址从下往上增大）分别是：

- 程序代码+数据 
- 堆 malloc free 创建 可以动态扩展/收缩
- 共享库
- 栈 实现函数调用 可以动态扩展/收缩
- 内核虚拟内存

文件 
- 字节序列
- 所有的系统输入输出都由unix I/O的系统函数调用读写函数来决定的

从单独的系统来看 网络可以被看作为一个I/O设备

## 3. 一些别的概念

- Amdahl 定律
S = 1/((1-a)+a/k)

S 是加速比 S= Told/Tnew

a 是某部分所需的执行时间与旧的总时间的比

k 是部分性能提升比例

- 并发/并行

线程级并发
- 超线程技术

指令级并行
- 流水线 (pipeline)

单指令 多数据并行
